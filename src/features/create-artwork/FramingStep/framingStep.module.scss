@import '../root-abstracts';

.active-content {
  align-items: center;
  justify-content: center;

  @include mq(max, $bp-active-area) {
    @include sticky(0 x x);
    backdrop-filter: blur(2px);
    background-color: c('bg', 0.7);
    display: flex;
    justify-content: center;
    margin-bottom: sz(4);
    padding-bottom: sz(4);
    height: 250px;
    width: calc(100% + #{sz(4)} * 2);
    transform: translateX(sz(-4));
    z-index: 2;

    &::after {
      @include absolute(x 0 sz(-4));
      backdrop-filter: blur(2px);
      background-color: c('bg', 0.7);
      content: '';
      height: sz(4);
      mask-image: scrim-gradient(to top, 'bg');
      pointer-events: none;
    }
  }
}

.preview {
  @include size(100%);

  @include mq($bp-active-area) {
    @include size(calc(100% - #{sz(6)} * 2));
  }
}

.radio-group {
  @include padding(sz(4));
  width: 100%;
  margin-bottom: sz(4);
  position: relative;
}

.radio-group__label {
  align-items: center;
  display: flex;
  font-weight: 500;
  cursor: pointer;

  input:not(:checked) + &::after {
    @include absolute(0);
    content: '';
    z-index: 2;
  }
}

.radio-group__button {
  @include size(sz(6));
  align-items: center;
  border: 1px solid c('border', 0.2);
  border-radius: 50%;
  box-shadow: 0 0 0 1.5px c('bg'), 0 0 0 0 c('border');
  color: c('bg');
  display: flex;
  justify-content: center;
  margin-right: sz(4);

  @include with-motion {
    transition: 150ms ease-out;
  }

  .radio-group:hover & {
    background-color: c('bg-tint');
    border: 1px solid c('border', 0.4);
  }

  input:checked & {
    border: 1px solid c('border', 1);
  }

  input:checked + .radio-group__label & {
    background-color: c('border');
  }

  input:focus + .radio-group__label & {
    box-shadow: 0 0 0 1.5px c('bg'), 0 0 0 2.5px c('border');
  }

  svg {
    @include size(sz(3.5));
    stroke-width: 1.5;

    input:not(:checked) + .radio-group__label & {
      opacity: 0;
    }
  }
}

.radio-group__fieldset {
  padding-left: sz(10);
}

.radio-group__description {
  color: c('secondary-text');
  margin-bottom: sz(4);
}

.radio-group__frame {
  @include absolute(0);
  border: 1px solid c('border', 0.2);
  border-radius: sz(2.5);
  pointer-events: none;

  @include with-motion {
    transition: 150ms ease-out;
  }

  @media (hover: hover) {
    .radio-group:hover input:not(:disabled) ~ & {
      border: 1px solid c('border', 0.4);
    }
  }

  input:not(:disabled):focus ~ & {
    border: 1px solid c('border', 0.4);
  }

  input:checked ~ & {
    border: 1px solid c('border', 1) !important;
  }
}

.field-row {
  display: flex;
}

.field-row__item {
  + .field-row__item {
    margin-left: sz(4);
  }
}

.create-button {
  width: 100%;
}
